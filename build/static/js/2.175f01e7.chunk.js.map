{"version":3,"sources":["Containers/Login/index.jsx","Helpers/HttpRequestHelper.js","Constants/APIUrls.js","Components/OverlayComponent/index.jsx","BusinessLayer/Login/LoginManager.js","Helpers/emailValidation.js"],"names":["Login","_this","Object","d_Zwaar_Projects_zwaar_task_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","d_Zwaar_Projects_zwaar_task_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","d_Zwaar_Projects_zwaar_task_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","handleUserInput","e","_this$state","state","userInfo","validateUserInfo","targetName","target","name","targetValue","value","validateEmail","setState","loginUser","isOverlayVisible","then","getUser","catch","err","console","log","response","isUserLoginSuccessfully","fullUserInfo","data","redirectToProfile","_this$state2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_router__WEBPACK_IMPORTED_MODULE_6__","to","pathname","disableLoginButton","email","password","document","title","className","src","alt","type","aria-describedby","placeholder","onChange","href","onClick","disabled","_Components_OverlayComponent__WEBPACK_IMPORTED_MODULE_7__","visibility","Component","__webpack_require__","d","__webpack_exports__","get","postJSON","superagent__WEBPACK_IMPORTED_MODULE_0__","superagent__WEBPACK_IMPORTED_MODULE_0___default","n","url","request","body","post","set","send","require","Users","registerUser","concat","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","Overlay","_ref","overlayCssClass","_Helpers_HttpRequestHelper__WEBPACK_IMPORTED_MODULE_0__","_Constants_APIUrls__WEBPACK_IMPORTED_MODULE_1__","user","userId","Promise","resolve","reject","error","test"],"mappings":"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","file":"static/js/2.175f01e7.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router\";\nimport Overlay from \"@Components/OverlayComponent\";\nimport { loginUser, getUser } from \"@BusinessLayer/Login/LoginManager\";\nimport validateEmail from \"@Helpers/emailValidation\";\n\nimport \"./index.css\";\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      validateUserInfo: {\n        email: null,\n        password: null\n      },\n      userInfo: {\n        email: \"\",\n        password: \"\"\n      },\n      fullUserInfo: null,\n      isOverlayVisible: false,\n      isUserLoginSuccessfully: false\n    };\n  }\n\n  componentDidMount() {\n    document.title = \"Login\";\n  }\n\n  handleUserInput = e => {\n    const { userInfo, validateUserInfo } = this.state;\n    const targetName = e.target.name;\n    const targetValue = e.target.value;\n\n    if (targetName === \"email\")\n      validateUserInfo[targetName] =\n        targetValue !== \"\" && validateEmail(targetValue);\n    else validateUserInfo[targetName] = targetValue !== \"\";\n    userInfo[targetName] = targetValue;\n\n    this.setState({ userInfo });\n  };\n\n  loginUser = () => {\n    const { userInfo } = this.state;\n\n    this.setState({ isOverlayVisible: true });\n    loginUser(userInfo)\n      .then(() => this.getUser())\n      .catch(err => console.log(err));\n  };\n\n  getUser = () => {\n    getUser(1).then(response =>\n      this.setState({\n        isUserLoginSuccessfully: true,\n        fullUserInfo: response.data\n      })\n    );\n  };\n\n  redirectToProfile = () => {\n    const { isUserLoginSuccessfully, fullUserInfo } = this.state;\n    if (isUserLoginSuccessfully)\n      return (\n        <Redirect\n          to={{\n            pathname: \"/profile\",\n            state: {\n              fullUserInfo: fullUserInfo\n            }\n          }}\n        />\n      );\n  };\n\n  disableLoginButton = () => {\n    const { validateUserInfo } = this.state;\n    return !(validateUserInfo.email && validateUserInfo.password);\n  };\n\n  render() {\n    const { isOverlayVisible } = this.state;\n\n    return (\n      <div className=\"container h-100\">\n        <div className=\"row align-items-center h-100\">\n          <div className=\"col-sm-12 col-md-6 col-lg-4 mx-auto\">\n            <div className=\"card card-background\">\n              <div className=\"card-body\">\n                <img\n                  className=\"mx-auto d-block logo\"\n                  src=\"http://zwaar.net/media/new/images/logo_en_b.svg\"\n                  alt=\"logo\"\n                />\n                <h5 className=\"card-title text-center m-4\">Login to Zwaar</h5>\n                <form>\n                  <div className=\"form-group\">\n                    <label>Email address</label>\n                    <input\n                      type=\"email\"\n                      className=\"form-control\"\n                      name=\"email\"\n                      aria-describedby=\"emailHelp\"\n                      placeholder=\"Enter email\"\n                      onChange={this.handleUserInput}\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <label>Password</label>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      name=\"password\"\n                      placeholder=\"Password\"\n                      onChange={this.handleUserInput}\n                    />\n                  </div>\n                  <div className=\"form-inline mt-4\">\n                    <a href=\"../registration\" className=\"card-link col-6\">\n                      Register\n                    </a>\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-primary col-5 offset-1\"\n                      onClick={this.loginUser}\n                      disabled={this.disableLoginButton()}\n                    >\n                      Login\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Overlay visibility={isOverlayVisible} />\n        {this.redirectToProfile()}\n      </div>\n    );\n  }\n}\nexport default Login;\n","import request from \"superagent\";\r\n\r\nexport function get(url) {\r\n  return request.get(url);\r\n}\r\n\r\nexport function postJSON(url, body) {\r\n  return request\r\n    .post(url)\r\n    .set(\"Content-Type\", \"application/json\")\r\n    .set(\"Accept\", \"application/json\")\r\n    .send(body);\r\n}\r\n\r\nexport function deleteRequest(url) {\r\n  return request.delete(url);\r\n}\r\n\r\nexport function putJSON(url, body) {\r\n  return request\r\n    .put(url)\r\n    .set(\"Content-Type\", \"application/json\")\r\n    .set(\"Accept\", \"application/json\")\r\n    .send(body);\r\n}\r\n","require(\"dotenv\");\r\n\r\nlet API_BASE_PATH = \"https://reqres.in/api/\";\r\n\r\nexport const Users = {\r\n  registerUser: `${API_BASE_PATH}register`,\r\n  loginUser: `${API_BASE_PATH}login`,\r\n  getUser: `${API_BASE_PATH}users`\r\n};\r\n","import React from \"react\";\r\n\r\nimport \"./index.css\";\r\n\r\nconst overlayCssClass = visibility => {\r\n  if (!visibility) return \"overlay-off\";\r\n  return \"overlay-on\";\r\n};\r\n\r\nconst Overlay = ({ visibility }) => (\r\n  <div className={overlayCssClass(visibility)}>\r\n    <div className=\"spinner\">\r\n      <div className=\"double-bounce1\" />\r\n      <div className=\"double-bounce2\" />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Overlay;\r\n","import { get, postJSON } from \"@Helpers/HttpRequestHelper\";\nimport { Users } from \"@Constants/APIUrls\";\n\nexport function loginUser(user) {\n  return postJSON(`${Users.loginUser}`, user);\n}\n\nexport function getUser(userId) {\n  const promise = new Promise((resolve, reject) => {\n    get(`${Users.getUser}/${userId}`)\n      .then(response => {\n        resolve(response.body);\n      })\n      .catch(error => {\n        reject(error);\n      });\n  });\n  return promise;\n}\n","export default function validateEmail(email) {\n  const emailRegEx = /^([a-zA-Z0-9])(([a-zA-Z0-9])*([\\._\\+-])*([a-zA-Z0-9]))*@(([a-zA-Z0-9\\-])+(\\.))+([a-zA-Z]{2,4})+$/;\n  if (emailRegEx.test(email)) return true;\n  return false;\n}\n"],"sourceRoot":""}